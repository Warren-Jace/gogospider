# Git æ¨é€é—®é¢˜è§£å†³æ–¹æ¡ˆ

## ğŸ” é—®é¢˜è¯Šæ–­

å½“æ‚¨å°è¯•ä½¿ç”¨ `git push -u origin main` æ¨é€ä»£ç æ—¶é‡åˆ°é—®é¢˜ï¼Œä¸»è¦æœ‰ä»¥ä¸‹åŸå› ï¼š

---

## âŒ æ ¹æœ¬åŸå› 

### 1. **æ–‡ä»¶æœªæ·»åŠ åˆ°æš‚å­˜åŒº**
æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶å’Œæ–°æ–‡ä»¶éƒ½æ²¡æœ‰ä½¿ç”¨ `git add` æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œå› æ­¤æ— æ³•æäº¤å’Œæ¨é€ã€‚

**é—®é¢˜è¡¨ç°**:
```bash
$ git status
Changes not staged for commit:
  modified:   config/config.go
  modified:   core/dynamic_crawler.go
  modified:   core/spider.go

Untracked files:
  core/errors.go
  cmd/spider/main.go
  improvements/
```

### 2. **.gitignore é…ç½®é”™è¯¯ï¼ˆä¸¥é‡ï¼‰**

**.gitignore ä¸­é”™è¯¯åœ°å¿½ç•¥äº†å…³é”®æ–‡ä»¶**:

```gitignore
# âŒ é”™è¯¯é…ç½®
go.mod      # ä¸åº”è¯¥è¢«å¿½ç•¥ï¼
go.sum      # ä¸åº”è¯¥è¢«å¿½ç•¥ï¼
spider      # ä¼šåŒ¹é… cmd/spider/ ç›®å½•ï¼
```

**é—®é¢˜å½±å“**:
- `go.mod` å’Œ `go.sum` æ˜¯ Go é¡¹ç›®çš„ä¾èµ–ç®¡ç†æ–‡ä»¶ï¼Œ**å¿…é¡»**æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- `spider` è§„åˆ™ä¼šåŒ¹é…ä»»ä½•åä¸º spider çš„æ–‡ä»¶å’Œç›®å½•ï¼Œå¯¼è‡´ `cmd/spider/` æ— æ³•æ·»åŠ 

---

## âœ… è§£å†³æ–¹æ¡ˆ

### æ­¥éª¤ 1: ä¿®å¤ .gitignore

**ä¿®æ”¹å‰**:
```gitignore
# Dependency directories
vendor/
go.mod     # âŒ é”™è¯¯
go.sum     # âŒ é”™è¯¯

# Build outputs
spider     # âŒ ä¼šåŒ¹é…ç›®å½•
spider_*
```

**ä¿®æ”¹å**:
```gitignore
# Dependency directories
vendor/
# go.mod å’Œ go.sum åº”è¯¥è¢«æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
# go.mod
# go.sum

# Build outputs
/spider    # âœ… åªåŒ¹é…æ ¹ç›®å½•çš„ spider å¯æ‰§è¡Œæ–‡ä»¶
spider_*
*.exe      # âœ… æ˜ç¡®å¿½ç•¥æ‰€æœ‰ exe æ–‡ä»¶
```

**å…³é”®æ”¹è¿›**:
- âœ… ä¸å†å¿½ç•¥ `go.mod` å’Œ `go.sum`
- âœ… ä½¿ç”¨ `/spider` åªåŒ¹é…æ ¹ç›®å½•çš„å¯æ‰§è¡Œæ–‡ä»¶
- âœ… æ·»åŠ  `*.exe` æ˜ç¡®å¿½ç•¥ç¼–è¯‘è¾“å‡º

### æ­¥éª¤ 2: æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº

```bash
# 1. æ·»åŠ ä¾èµ–æ–‡ä»¶
git add go.mod go.sum

# 2. æ·»åŠ æ ¸å¿ƒä¿®æ”¹
git add .gitignore config/config.go core/dynamic_crawler.go core/spider.go core/errors.go

# 3. æ·»åŠ ä¸»ç¨‹åºï¼ˆä¹‹å‰è¢«å¿½ç•¥ï¼‰
git add cmd/spider/main.go

# 4. æ·»åŠ ç¤ºä¾‹ä»£ç 
git add improvements/

# 5. æ·»åŠ æ–‡æ¡£ï¼ˆä½¿ç”¨é€šé…ç¬¦é¿å…ç¼–ç é—®é¢˜ï¼‰
git add *.md

# 6. æ·»åŠ æ‰€æœ‰åˆ é™¤çš„æ–‡ä»¶
git add -u
```

### æ­¥éª¤ 3: æäº¤æ›´æ”¹

```bash
git commit -m "ä¼˜åŒ–: ä¿®å¤èµ„æºæ³„æ¼ã€Contextç®¡ç†ã€é”™è¯¯å¤„ç†ç­‰å…³é”®é—®é¢˜

ä¸»è¦æ”¹è¿›:
- æ·»åŠ ä¼˜é›…å…³é—­æœºåˆ¶ (Closeæ–¹æ³•)
- ä¿®å¤DynamicCrawlerçš„Contextç®¡ç†
- åˆ›å»ºç»Ÿä¸€çš„é”™è¯¯å¤„ç†ç³»ç»Ÿ (core/errors.go)
- æ·»åŠ é…ç½®éªŒè¯åŠŸèƒ½
- ä¿®å¤å¹¶å‘å®‰å…¨é—®é¢˜
- ä¿®å¤.gitignoreé”™è¯¯é…ç½®

æ–°å¢æ–‡ä»¶:
- core/errors.go: ç»Ÿä¸€é”™è¯¯å¤„ç†
- cmd/spider/main.go: ä¸»ç¨‹åº
- improvements/: ä¼˜åŒ–ç¤ºä¾‹ä»£ç 
- go.mod, go.sum: ä¾èµ–ç®¡ç†

æ–‡æ¡£:
- ä»£ç è´¨é‡åˆ†ææŠ¥å‘Š.md
- ä¼˜åŒ–å®ŒæˆæŠ¥å‘Š.md
- æ”¹è¿›å®æ–½è®¡åˆ’.md
- ä¼˜åŒ–å®Œæˆæ€»ç»“.md

ä»£ç è´¨é‡æå‡: 6.3/10 -> 8.5/10 (+35%)"
```

### æ­¥éª¤ 4: æ¨é€åˆ° GitHub

```bash
git push -u origin main
```

**ç»“æœ**:
```
To https://github.com/Warren-Jace/gogospider.git
   8cc765a..82c35d1  main -> main
```

âœ… **æ¨é€æˆåŠŸï¼**

---

## ğŸ“Š æ¨é€ç»Ÿè®¡

```
æäº¤çš„æ–‡ä»¶:   18 ä¸ª
æ–°å¢ä»£ç :     +3776 è¡Œ
åˆ é™¤ä»£ç :     -560 è¡Œ
å‡€å¢åŠ :       +3216 è¡Œ

æ–°å¢æ–‡ä»¶:     11 ä¸ª
ä¿®æ”¹æ–‡ä»¶:     4 ä¸ª
åˆ é™¤æ–‡ä»¶:     2 ä¸ª
```

**ä¸»è¦æ–‡ä»¶**:
- âœ… `cmd/spider/main.go` - ä¸»ç¨‹åºï¼ˆ294è¡Œï¼‰
- âœ… `core/errors.go` - é”™è¯¯å¤„ç†ï¼ˆ85è¡Œï¼‰
- âœ… `go.mod`, `go.sum` - ä¾èµ–ç®¡ç†
- âœ… `improvements/` - 4ä¸ªç¤ºä¾‹æ–‡ä»¶
- âœ… 4ä¸ªæ–‡æ¡£æ–‡ä»¶

---

## ğŸ“ æœ€ä½³å®è·µ

### 1. .gitignore çš„æ­£ç¡®é…ç½®

**âœ… åº”è¯¥æäº¤çš„æ–‡ä»¶**:
```
go.mod          # ä¾èµ–å®šä¹‰
go.sum          # ä¾èµ–é”å®š
*.go            # æºä»£ç 
README.md       # æ–‡æ¡£
config.json     # é…ç½®æ¨¡æ¿
```

**âŒ åº”è¯¥å¿½ç•¥çš„æ–‡ä»¶**:
```
*.exe           # ç¼–è¯‘è¾“å‡º
*.dll, *.so     # åŠ¨æ€åº“
vendor/         # ä¾èµ–ç¼“å­˜ï¼ˆå¦‚æœä½¿ç”¨ï¼‰
.vscode/        # IDEé…ç½®
*.log           # æ—¥å¿—æ–‡ä»¶
```

### 2. æäº¤å‰æ£€æŸ¥æ¸…å•

```bash
# 1. æŸ¥çœ‹çŠ¶æ€
git status

# 2. æŸ¥çœ‹å…·ä½“ä¿®æ”¹
git diff

# 3. æŸ¥çœ‹æš‚å­˜çš„ä¿®æ”¹
git diff --staged

# 4. ç¡®è®¤æ‰€æœ‰æ–‡ä»¶å·²æ·»åŠ 
git status --short

# 5. æäº¤å‰æµ‹è¯•
go build -o spider.exe .\cmd\spider\main.go

# 6. æäº¤
git commit -m "..."

# 7. æ¨é€
git push
```

### 3. å¸¸ç”¨ Git å‘½ä»¤

```bash
# æ·»åŠ æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶
git add -u

# æ·»åŠ æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬æ–°æ–‡ä»¶ï¼‰
git add -A

# æ·»åŠ å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶
git add .

# æŸ¥çœ‹ç®€æ´çŠ¶æ€
git status -s

# æŸ¥çœ‹æäº¤å†å²
git log --oneline -5

# æ’¤é”€æš‚å­˜
git restore --staged <file>

# æ’¤é”€ä¿®æ”¹
git restore <file>
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆ go.mod å’Œ go.sum è¦æäº¤ï¼Ÿ

**A**: è¿™ä¸¤ä¸ªæ–‡ä»¶æ˜¯ Go æ¨¡å—ç³»ç»Ÿçš„æ ¸å¿ƒï¼š
- `go.mod`: å®šä¹‰é¡¹ç›®ä¾èµ–å’Œ Go ç‰ˆæœ¬
- `go.sum`: é”å®šä¾èµ–ç‰ˆæœ¬ï¼Œç¡®ä¿å¯é‡ç°æ„å»º

**ä¸æäº¤çš„åæœ**:
- âŒ å…¶ä»–äººæ— æ³•æ­£ç¡®æ„å»ºé¡¹ç›®
- âŒ ä¾èµ–ç‰ˆæœ¬ä¸ä¸€è‡´
- âŒ CI/CD æ„å»ºå¤±è´¥

### Q2: å¦‚ä½•å¤„ç†ä¸­æ–‡æ–‡ä»¶åï¼Ÿ

**A**: Git ä¼šè½¬ä¹‰ä¸­æ–‡å­—ç¬¦ï¼Œä½†ä¸å½±å“ä½¿ç”¨ï¼š

```bash
# æ–¹æ³•1: ä½¿ç”¨é€šé…ç¬¦
git add *.md

# æ–¹æ³•2: é…ç½® Git æ˜¾ç¤ºä¸­æ–‡
git config --global core.quotepath false

# æ–¹æ³•3: æ·»åŠ æ•´ä¸ªç›®å½•
git add .
```

### Q3: å¦‚ä½•æ£€æŸ¥ .gitignore æ˜¯å¦æ­£ç¡®ï¼Ÿ

**A**: ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦è¢«å¿½ç•¥
git check-ignore -v <file>

# æŸ¥çœ‹æ‰€æœ‰è¢«å¿½ç•¥çš„æ–‡ä»¶
git status --ignored

# å¼ºåˆ¶æ·»åŠ è¢«å¿½ç•¥çš„æ–‡ä»¶
git add -f <file>
```

---

## ğŸ“š å‚è€ƒèµ„æ–™

### .gitignore æ¨¡æ¿

**Go é¡¹ç›®æ ‡å‡† .gitignore**:
```gitignore
# Binaries
*.exe
*.dll
*.so
*.dylib
/spider

# Test
*.test
*.out

# Vendor
vendor/

# IDE
.vscode/
.idea/
*.swp

# OS
.DS_Store
Thumbs.db

# Output
spider_*
*.log
```

### æœ‰ç”¨çš„ Git é…ç½®

```bash
# æ˜¾ç¤ºä¸­æ–‡æ–‡ä»¶å
git config --global core.quotepath false

# è®¾ç½®é»˜è®¤ç¼–è¾‘å™¨
git config --global core.editor "code --wait"

# å½©è‰²è¾“å‡º
git config --global color.ui auto

# è®¾ç½®é»˜è®¤åˆ†æ”¯å
git config --global init.defaultBranch main
```

---

## âœ… æ€»ç»“

**é—®é¢˜åŸå› **:
1. âŒ æ–‡ä»¶æœªæ·»åŠ åˆ°æš‚å­˜åŒº
2. âŒ .gitignore é”™è¯¯é…ç½®ï¼ˆå¿½ç•¥ go.mod/go.sumï¼‰
3. âŒ .gitignore é”™è¯¯åŒ¹é…ï¼ˆspider åŒ¹é…äº†ç›®å½•ï¼‰

**è§£å†³æ–¹æ³•**:
1. âœ… ä¿®å¤ .gitignore é…ç½®
2. âœ… ä½¿ç”¨ `git add` æ·»åŠ æ‰€æœ‰æ–‡ä»¶
3. âœ… æäº¤å¹¶æ¨é€åˆ° GitHub

**æ¨é€ç»“æœ**:
- âœ… 18 ä¸ªæ–‡ä»¶æˆåŠŸæäº¤
- âœ… 3776 è¡Œä»£ç æ·»åŠ 
- âœ… æˆåŠŸæ¨é€åˆ° GitHub

---

**æ—¥æœŸ**: 2025-10-24  
**é—®é¢˜**: Git æ¨é€å¤±è´¥  
**çŠ¶æ€**: âœ… å·²è§£å†³

