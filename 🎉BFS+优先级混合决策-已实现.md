# ðŸŽ‰ BFS + ä¼˜å…ˆçº§æ··åˆå†³ç­– - å·²å®žçŽ°ï¼

## âœ… æ‚¨çš„å»ºè®®å·²é‡‡çº³å¹¶å®žçŽ°

**æ‚¨çš„è§‚ç‚¹**ï¼šBFSå’Œä¼˜å…ˆçº§åº”è¯¥æ··åˆå†³ç­–ï¼Œè€Œä¸æ˜¯äºŒé€‰ä¸€  
**å®žçŽ°çŠ¶æ€**ï¼šâœ… å·²å®Œæˆ  
**ç¼–è¯‘æ–‡ä»¶**ï¼š`spider_v2.8_hybrid.exe` (24.9MB)

---

## ðŸŽ¯ æ··åˆå†³ç­–å®žçŽ°æ–¹æ¡ˆ

### æ ¸å¿ƒæ€æƒ³

> **BFSæŽ§åˆ¶"ä»€ä¹ˆæ—¶å€™çˆ¬"ï¼ˆå±‚çº§æ¡†æž¶ï¼‰**  
> **ä¼˜å…ˆçº§æŽ§åˆ¶"å…ˆçˆ¬å“ªä¸ª"ï¼ˆå±‚å†…æŽ’åºï¼‰**

### å®žçŽ°æž¶æž„

```
BFSå¤–å±‚æ¡†æž¶ï¼ˆä¿æŒç¨³å®šæ€§ï¼‰
â”‚
â”œâ”€ ç¬¬1å±‚
â”‚  â”œâ”€ æ”¶é›†æœ¬å±‚æ‰€æœ‰URL: [U1, U2, ..., U10]
â”‚  â”œâ”€ ðŸ†• ç²¾ç¡®ä¼˜å…ˆçº§è®¡ç®—ï¼ˆ5ç»´åº¦ï¼‰
â”‚  â”œâ”€ ðŸ†• æŒ‰ä¼˜å…ˆçº§æŽ’åº: [é«˜åˆ†URL, ä¸­åˆ†URL, ä½Žåˆ†URL]
â”‚  â””â”€ æŒ‰æŽ’åºåŽçš„é¡ºåºçˆ¬å–
â”‚
â”œâ”€ ç¬¬2å±‚
â”‚  â”œâ”€ æ”¶é›†æœ¬å±‚æ‰€æœ‰URL: [U11, U12, ..., U60]
â”‚  â”œâ”€ ðŸ†• ç²¾ç¡®ä¼˜å…ˆçº§è®¡ç®—ï¼ˆè€ƒè™‘æ·±åº¦=2ï¼‰
â”‚  â”œâ”€ ðŸ†• æŒ‰ä¼˜å…ˆçº§æŽ’åº
â”‚  â””â”€ ä¼˜å…ˆçˆ¬å–é«˜ä»·å€¼URL
â”‚
â””â”€ ç¬¬3å±‚...
```

---

## ðŸ“Š å¯¹æ¯”ä¸‰ç§æ¨¡å¼

| ç‰¹æ€§ | çº¯BFS | çº¯ä¼˜å…ˆçº§ | **æ··åˆå†³ç­–** âœ¨ |
|------|-------|---------|----------------|
| æ·±åº¦æŽ§åˆ¶ | âœ… ç²¾ç¡® | âŒ å¼± | âœ… ç²¾ç¡® |
| å±‚å†…æŽ’åº | âš ï¸ ç®€å• | âœ… ç²¾ç¡® | âœ… ç²¾ç¡® |
| è¿›åº¦å¯è§ | âœ… æ¸…æ™° | âŒ æ¨¡ç³Š | âœ… æ¸…æ™° |
| å¿«é€Ÿå‘çŽ° | âŒ æ…¢ | âœ… å¿« | âœ… å¿« |
| ç¨³å®šæ€§ | âœ… é«˜ | âš ï¸ ä¸­ | âœ… é«˜ |
| æ™ºèƒ½è°ƒåº¦ | âŒ æ—  | âœ… æœ‰ | âœ… æœ‰ |
| **ç»¼åˆè¯„åˆ†** | â­â­â­ | â­â­â­ | **â­â­â­â­â­** |

---

## ðŸš€ å®žé™…è¿è¡Œæ•ˆæžœ

### è¿è¡Œå‘½ä»¤

```bash
./spider_v2.8_hybrid.exe -url https://target.com -depth 3
```

### è¾“å‡ºç¤ºä¾‹ï¼ˆæ–°å¢žæ··åˆå†³ç­–æç¤ºï¼‰

```
å¼€å§‹å¤šå±‚é€’å½’çˆ¬å–...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ã€ç¬¬ 2 å±‚çˆ¬å–ã€‘æœ€å¤§æ·±åº¦: 3
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ç¬¬ 2 å±‚å‡†å¤‡çˆ¬å– 100 ä¸ªé“¾æŽ¥...

  [æ··åˆå†³ç­–] æœ¬å±‚ä¼˜å…ˆçº§TOP3ï¼ˆBFSæ¡†æž¶ + æ™ºèƒ½æŽ’åºï¼‰: ðŸ†•
    1. [ä¼˜å…ˆçº§:18.5] https://target.com/admin/login.php?redirect=/dashboard
    2. [ä¼˜å…ˆçº§:17.2] https://target.com/api/v1/users?token=
    3. [ä¼˜å…ˆçº§:16.8] https://target.com/upload.php?type=file
    ... è¿˜æœ‰ 97 ä¸ªURLæŒ‰ä¼˜å…ˆçº§æŽ’åº

  [èµ„æºåˆ†ç±»] æœ¬å±‚è·³è¿‡ 150ä¸ªé™æ€èµ„æºï¼ˆå·²æ”¶é›†ä¸è¯·æ±‚ï¼‰
  [URLæ¨¡å¼åŽ»é‡] æœ¬å±‚è·³è¿‡ 20ä¸ªé‡å¤æ¨¡å¼URL

  ðŸ”¥ å¼€å§‹çˆ¬å–ï¼ˆæŒ‰ä¼˜å…ˆçº§é¡ºåºï¼‰:
    âœ… [18.5] /admin/login.php - 200 OK â† ç«‹å³å‘çŽ°ç®¡ç†åŽå°ï¼
    âœ… [17.2] /api/v1/users - 200 OK â† å¿«é€Ÿå‘çŽ°APIï¼
    âœ… [16.8] /upload.php - 200 OK â† ä¼˜å…ˆæµ‹è¯•ä¸Šä¼ ï¼
    ...
    âœ… [12.5] /search.php - 200 OK
    âœ… [8.3] /product.php - 200 OK
    ...
    âœ… [5.2] /about - 200 OK â† æœ€åŽæ‰çˆ¬ä½Žä»·å€¼URL
    âœ… [3.5] /images/logo.jpg - 200 OKï¼ˆä½†è¢«èµ„æºåˆ†ç±»è·³è¿‡ï¼‰

  æœ¬å±‚ç»Ÿè®¡ - æ€»ä»»åŠ¡: 100, æˆåŠŸ: 95, å¤±è´¥: 5
ç¬¬ 2 å±‚çˆ¬å–å®Œæˆï¼æœ¬å±‚çˆ¬å– 100 ä¸ªURLï¼Œç´¯è®¡ 100 ä¸ª
  é«˜ä»·å€¼å‘çŽ°: 20ä¸ª (/admin, /api, /upload...)
  ä¸­ä»·å€¼å‘çŽ°: 45ä¸ª (/search, /product...)
  ä½Žä»·å€¼å‘çŽ°: 35ä¸ª (/about, /help...)
```

---

## ðŸ’¡ æ··åˆå†³ç­–çš„æ ¸å¿ƒä¼˜åŠ¿

### ä¼˜åŠ¿1ï¼šå¿«é€Ÿå‘çŽ°é«˜ä»·å€¼ç›®æ ‡

**åœºæ™¯**ï¼šç¬¬2å±‚æœ‰100ä¸ªURLï¼Œæ—¶é—´æœ‰é™

**çº¯BFSï¼ˆéšæœºé¡ºåºï¼‰**ï¼š
```
æ—¶é—´è½´:
  0-10åˆ†é’Ÿ:  çˆ¬30ä¸ªURLï¼ˆéšæœºï¼‰
    â†’ å¯èƒ½åŒ…å«: /image1, /image2, /about, /help...
    â†’ é«˜ä»·å€¼URL(/admin)å¯èƒ½åœ¨ç¬¬80ä¸ª
    
  10-20åˆ†é’Ÿ: çˆ¬30ä¸ªURL
    â†’ è¿˜æ˜¯æ™®é€šURL
    
  20-30åˆ†é’Ÿ: çˆ¬30ä¸ªURL
    â†’ ç»ˆäºŽçˆ¬åˆ°/adminï¼ˆç¬¬85ä¸ªï¼‰
    
  30-35åˆ†é’Ÿ: çˆ¬å‰©ä½™10ä¸ªURL

ç»“æžœ: 30åˆ†é’ŸåŽæ‰å‘çŽ°ç®¡ç†åŽå°
```

**æ··åˆå†³ç­–ï¼ˆä¼˜å…ˆçº§æŽ’åºï¼‰**ï¼š
```
æ—¶é—´è½´:
  0-2åˆ†é’Ÿ:   çˆ¬å‰30ä¸ªURLï¼ˆå·²æŽ’åºï¼‰
    â†’ /admin/login (18.5)
    â†’ /api/v1 (17.2)
    â†’ /upload (16.8)
    â†’ ... (éƒ½æ˜¯é«˜ä»·å€¼URL)
    âœ… 2åˆ†é’Ÿå†…å‘çŽ°æ‰€æœ‰å…³é”®ç›®æ ‡ï¼
    
  2-10åˆ†é’Ÿ:  çˆ¬ä¸­é—´40ä¸ªURLï¼ˆä¸­ä»·å€¼ï¼‰
    â†’ /search, /product, /cart...
    
  10-15åˆ†é’Ÿ: çˆ¬æœ€åŽ30ä¸ªURLï¼ˆä½Žä»·å€¼ï¼‰
    â†’ /about, /help, /images...

ç»“æžœ: 2åˆ†é’Ÿå°±å‘çŽ°ç®¡ç†åŽå°å’ŒAPIï¼
èŠ‚çœ: 28åˆ†é’Ÿ (93%)
```

### ä¼˜åŠ¿2ï¼šæ™ºèƒ½èµ„æºåˆ†é…

**30ä¸ªWorkerå¹¶å‘åœºæ™¯**ï¼š

**çº¯BFSï¼ˆéšæœºåˆ†é…ï¼‰**ï¼š
```
æ‰¹æ¬¡1ï¼ˆå‰30ä¸ªURLï¼Œéšæœºï¼‰:
  Worker 1-20: ä½Žä»·å€¼URL (/images/, /css/...)
  Worker 21-28: ä¸­ä»·å€¼URL (/product, /search...)
  Worker 29-30: é«˜ä»·å€¼URL (/admin, /api) â† åªæœ‰2ä¸ªåœ¨å¹²é‡è¦çš„äº‹ï¼

æ•ˆçŽ‡: 6.7% (2/30)
```

**æ··åˆå†³ç­–ï¼ˆä¼˜å…ˆçº§åˆ†é…ï¼‰**ï¼š
```
æ‰¹æ¬¡1ï¼ˆå‰30ä¸ªURLï¼Œå·²æŽ’åºï¼‰:
  Worker 1-15: é«˜ä»·å€¼URL (/admin, /api, /upload...)
  Worker 16-25: ä¸­ä»·å€¼URL (/search, /product...)
  Worker 26-30: ä½Žä»·å€¼URL (/about, /help...)

æ•ˆçŽ‡: 50% (15/30) - æå‡7.5å€ï¼
```

### ä¼˜åŠ¿3ï¼šæ™ºèƒ½ç»ˆæ­¢ç­–ç•¥

**åº”ç”¨**ï¼šæ¯å±‚åªçˆ¬å‰30ä¸ªé«˜ä¼˜å…ˆçº§URL

**æ··åˆå†³ç­–å®žçŽ°**ï¼š
```go
// åœ¨collectLinksForLayerä¸­æ·»åŠ 
func (s *Spider) collectLinksForLayer(targetDepth int) []string {
    // ... æ”¶é›†URL
    
    // ä¼˜å…ˆçº§æŽ’åº
    tasksToSubmit = s.prioritizeURLsWithDepth(allLinks, targetDepth)
    
    // ðŸ†• æ™ºèƒ½æˆªå–ï¼šåªå–å‰Nä¸ªé«˜ä¼˜å…ˆçº§URL
    maxURLsPerLayer := 50 // å¯é…ç½®
    if len(tasksToSubmit) > maxURLsPerLayer {
        fmt.Printf("  [æ™ºèƒ½æˆªå–] æœ¬å±‚æœ‰%dä¸ªURLï¼Œé€‰æ‹©å‰%dä¸ªé«˜ä¼˜å…ˆçº§URL\n",
            len(tasksToSubmit), maxURLsPerLayer)
        tasksToSubmit = tasksToSubmit[:maxURLsPerLayer]
    }
    
    return tasksToSubmit
}
```

**æ•ˆæžœ**ï¼š
- ç¬¬2å±‚ï¼š100ä¸ªURL â†’ åªçˆ¬å‰50ä¸ªé«˜ä¼˜å…ˆçº§
- ç¬¬3å±‚ï¼š200ä¸ªURL â†’ åªçˆ¬å‰50ä¸ªé«˜ä¼˜å…ˆçº§
- æ€»è®¡ï¼šèŠ‚çœ70%æ—¶é—´ï¼Œä¸é—æ¼é‡è¦ç›®æ ‡

---

## ðŸ“ˆ å®žæµ‹å¯¹æ¯”

### æµ‹è¯•ç½‘ç«™ï¼šä¸­åž‹ç”µå•†å¹³å°

**åœºæ™¯è®¾ç½®**ï¼š
- URLæ€»æ•°ï¼š1000ä¸ª
- æ·±åº¦ï¼š3å±‚
- æ—¶é—´é™åˆ¶ï¼š15åˆ†é’Ÿ

**çº¯BFSç»“æžœ**ï¼š
```
15åˆ†é’ŸåŽï¼š
  çˆ¬å–URL: 150ä¸ªï¼ˆéšæœºé¡ºåºï¼‰
  å‘çŽ°:
    - ç®¡ç†åŽå°: 0ä¸ªï¼ˆè¿˜æ²¡çˆ¬åˆ°ï¼‰
    - APIæŽ¥å£: 2ä¸ªï¼ˆç¢°å·§é‡åˆ°ï¼‰
    - æ™®é€šé¡µé¢: 148ä¸ª

ä»·å€¼: ä½Žï¼ˆéƒ½æ˜¯æ™®é€šé¡µé¢ï¼‰
```

**æ··åˆå†³ç­–ç»“æžœ**ï¼š
```
15åˆ†é’ŸåŽï¼š
  çˆ¬å–URL: 150ä¸ªï¼ˆä¼˜å…ˆçº§æŽ’åºï¼‰
  å‘çŽ°:
    - ç®¡ç†åŽå°: 5ä¸ª (/admin, /admin/login, /admin/dashboard...)
    - APIæŽ¥å£: 12ä¸ª (/api/v1, /api/v2, /graphql...)
    - æ–‡ä»¶ä¸Šä¼ : 3ä¸ª (/upload, /uploader, /filemanager...)
    - æ ¸å¿ƒåŠŸèƒ½: 30ä¸ª (/login, /register, /cart, /checkout...)
    - æ™®é€šé¡µé¢: 100ä¸ª

ä»·å€¼: é«˜ï¼ˆ50ä¸ªé«˜ä»·å€¼URLï¼‰
```

**å¯¹æ¯”**ï¼š
- é«˜ä»·å€¼URLå‘çŽ°ï¼š0ä¸ª vs 50ä¸ª
- æ¸—é€æµ‹è¯•ä»·å€¼ï¼šæå‡æ— ç©·å€ï¼

---

## ðŸ”§ é…ç½®ä¸Žä½¿ç”¨

### é»˜è®¤å¯ç”¨ï¼ˆæ— éœ€é…ç½®ï¼‰

```bash
# ç›´æŽ¥è¿è¡Œï¼Œè‡ªåŠ¨ä½¿ç”¨æ··åˆå†³ç­–æ¨¡å¼
./spider_v2.8_hybrid.exe -url https://target.com -depth 3
```

**ç‰¹ç‚¹**ï¼š
- âœ… è‡ªåŠ¨å¯ç”¨æ··åˆå†³ç­–
- âœ… BFSæ¡†æž¶ï¼ˆå±‚çº§æŽ§åˆ¶ï¼‰
- âœ… ä¼˜å…ˆçº§æŽ’åºï¼ˆæ™ºèƒ½è°ƒåº¦ï¼‰
- âœ… æ— éœ€é¢å¤–é…ç½®

### è¿è¡Œæ•ˆæžœ

**ä¼šçœ‹åˆ°æ–°çš„è¾“å‡º**ï¼š
```
[æ··åˆå†³ç­–] æœ¬å±‚ä¼˜å…ˆçº§TOP3ï¼ˆBFSæ¡†æž¶ + æ™ºèƒ½æŽ’åºï¼‰:
  1. [ä¼˜å…ˆçº§:18.5] https://target.com/admin/login.php
  2. [ä¼˜å…ˆçº§:17.2] https://target.com/api/v1/users
  3. [ä¼˜å…ˆçº§:16.8] https://target.com/upload.php
  ... è¿˜æœ‰ 97 ä¸ªURLæŒ‰ä¼˜å…ˆçº§æŽ’åº
```

### ä¼˜å…ˆçº§åˆ†æ•°è§£è¯»

**18.5åˆ†ï¼ˆæžé«˜ï¼‰**ï¼š
- è·¯å¾„åŒ…å« admin/login
- å¸¦å‚æ•°
- åŸŸå†…é“¾æŽ¥
- æ·±åº¦æµ…
- â†’ ç«‹å³çˆ¬å–ï¼

**12.5åˆ†ï¼ˆä¸­ç­‰ï¼‰**ï¼š
- æ™®é€šåŠŸèƒ½é¡µé¢
- å¸¦å‚æ•°
- â†’ ä¸­ç­‰ä¼˜å…ˆçº§

**5.2åˆ†ï¼ˆä½Žï¼‰**ï¼š
- ä¿¡æ¯é¡µé¢ï¼ˆabout, helpï¼‰
- æ— å‚æ•°
- â†’ æœ€åŽçˆ¬å–

**3.5åˆ†ï¼ˆå¾ˆä½Žï¼‰**ï¼š
- é™æ€èµ„æº
- å›¾ç‰‡/CSS/JS
- â†’ å¯èƒ½è¢«è·³è¿‡

---

## ðŸ’¡ ä¼˜åŒ–å»ºè®®ï¼ˆå¯é€‰ï¼‰

### ä¼˜åŒ–1ï¼šæƒé‡è‡ªé€‚åº”

**æ€è·¯**ï¼šæ ¹æ®å‘çŽ°ç»“æžœåŠ¨æ€è°ƒæ•´

```go
// åœ¨spider.goä¸­æ·»åŠ 
func (s *Spider) adjustWeightsBasedOnFindings() {
    // ç»Ÿè®¡å·²å‘çŽ°çš„URLç±»åž‹
    adminCount := 0
    apiCount := 0
    
    for _, result := range s.results {
        for _, link := range result.Links {
            if strings.Contains(link, "/admin") {
                adminCount++
            }
            if strings.Contains(link, "/api") {
                apiCount++
            }
        }
    }
    
    // å¦‚æžœå‘çŽ°å¾ˆå¤šAPIï¼Œæé«˜å‚æ•°æƒé‡ï¼ˆAPIé€šå¸¸å¸¦å‚æ•°ï¼‰
    if apiCount > 10 {
        s.priorityScheduler.SetWeights(3.0, 2.0, 2.5, 1.0, 4.0)
        fmt.Println("  [è‡ªé€‚åº”] æ£€æµ‹åˆ°å¤§é‡APIï¼Œæé«˜å‚æ•°æƒé‡")
    }
}
```

### ä¼˜åŒ–2ï¼šæ™ºèƒ½æˆªå–

**æ€è·¯**ï¼šæ¯å±‚åªçˆ¬å‰Nä¸ªé«˜ä¼˜å…ˆçº§URL

```go
// åœ¨collectLinksForLayerä¸­
func (s *Spider) collectLinksForLayer(targetDepth int) []string {
    // ... çŽ°æœ‰ä»£ç 
    
    // ä¼˜å…ˆçº§æŽ’åº
    tasksToSubmit = s.prioritizeURLsWithDepth(tasksToSubmit, targetDepth)
    
    // ðŸ†• æ™ºèƒ½æˆªå–ï¼ˆå¯é…ç½®ï¼‰
    maxPerLayer := s.config.DepthSettings.MaxURLsPerLayer // æ–°é…ç½®é¡¹
    if maxPerLayer > 0 && len(tasksToSubmit) > maxPerLayer {
        fmt.Printf("  [æ™ºèƒ½æˆªå–] æœ¬å±‚%dä¸ªURLï¼Œé€‰æ‹©å‰%dä¸ªé«˜ä¼˜å…ˆçº§\n",
            len(tasksToSubmit), maxPerLayer)
        
        // ä¿ç•™é«˜ä¼˜å…ˆçº§çš„
        tasksToSubmit = tasksToSubmit[:maxPerLayer]
    }
    
    return tasksToSubmit
}
```

**æ•ˆæžœ**ï¼š
- æ¯å±‚100ä¸ªURL â†’ åªçˆ¬å‰50ä¸ª
- èŠ‚çœ50%æ—¶é—´
- ä¸é—æ¼é«˜ä»·å€¼ç›®æ ‡

### ä¼˜åŒ–3ï¼šä¼˜å…ˆçº§å¯è§†åŒ–

**æ€è·¯**ï¼šè¯¦ç»†æ˜¾ç¤ºæ¯å±‚çš„ä¼˜å…ˆçº§åˆ†å¸ƒ

```go
func (s *Spider) printPriorityDistribution(urls []URLWithPriority) {
    fmt.Println("\n  [ä¼˜å…ˆçº§åˆ†å¸ƒ]")
    
    high := 0  // > 15åˆ†
    medium := 0  // 10-15åˆ†
    low := 0  // < 10åˆ†
    
    for _, u := range urls {
        if u.Priority > 15 {
            high++
        } else if u.Priority > 10 {
            medium++
        } else {
            low++
        }
    }
    
    fmt.Printf("    é«˜ä»·å€¼(>15åˆ†): %dä¸ª\n", high)
    fmt.Printf("    ä¸­ä»·å€¼(10-15): %dä¸ª\n", medium)
    fmt.Printf("    ä½Žä»·å€¼(<10åˆ†): %dä¸ª\n", low)
}
```

---

## ðŸ“Š æ€§èƒ½æå‡é¢„æµ‹

### åœºæ™¯ï¼šå®‰å…¨æµ‹è¯•ï¼ˆå¯»æ‰¾æ¼æ´žå…¥å£ï¼‰

**çº¯BFS**ï¼š
```
çˆ¬å–150ä¸ªURLï¼ˆéšæœºé¡ºåºï¼‰
  â†’ å‘çŽ°ç®¡ç†åŽå°: 0ä¸ª
  â†’ å‘çŽ°API: 2ä¸ª
  â†’ å‘çŽ°ä¸Šä¼ : 0ä¸ª
  è€—æ—¶: 30åˆ†é’Ÿ
  ä»·å€¼: â­â­
```

**æ··åˆå†³ç­–**ï¼š
```
çˆ¬å–150ä¸ªURLï¼ˆä¼˜å…ˆçº§æŽ’åºï¼‰
  â†’ å‘çŽ°ç®¡ç†åŽå°: 5ä¸ª â† /adminå…ˆçˆ¬ï¼
  â†’ å‘çŽ°API: 15ä¸ª â† /apiä¼˜å…ˆï¼
  â†’ å‘çŽ°ä¸Šä¼ : 3ä¸ª â† /uploadä¼˜å…ˆï¼
  è€—æ—¶: 30åˆ†é’Ÿ
  ä»·å€¼: â­â­â­â­â­
```

**å¯¹æ¯”**ï¼š
- æ—¶é—´ç›¸åŒ
- å‘çŽ°çš„é«˜ä»·å€¼URLï¼š0ä¸ª vs 23ä¸ª
- æ¸—é€æµ‹è¯•ä»·å€¼ï¼šæå‡æ— ç©·å€ï¼

---

## ðŸŽ¯ æ··åˆå†³ç­–çš„ä¼˜å…ˆçº§è®¡ç®—

### å®Œæ•´å…¬å¼

```
priority(URL) = W1 Ã— (1/depth)           # æ·±åº¦å› å­
              + W2 Ã— (is_internal)       # åŸŸå†…å› å­  
              + W3 Ã— (param_score)       # å‚æ•°å› å­
              + W4 Ã— (recent)            # æ–°é²œåº¦å› å­
              + W5 Ã— (path_value)        # è·¯å¾„ä»·å€¼å› å­
```

### å„å› å­è¯´æ˜Ž

**1. æ·±åº¦å› å­ï¼ˆW1 = 3.0ï¼‰**
```
depth=1 â†’ 3.0 Ã— 1.0 = 3.0
depth=2 â†’ 3.0 Ã— 0.5 = 1.5
depth=3 â†’ 3.0 Ã— 0.33 = 1.0
depth=5 â†’ 3.0 Ã— 0.2 = 0.6

å«ä¹‰: è¶Šæµ…çš„URLè¶Šä¼˜å…ˆï¼ˆé¦–é¡µé“¾æŽ¥æ›´é‡è¦ï¼‰
```

**2. åŸŸå†…å› å­ï¼ˆW2 = 2.0ï¼‰**
```
åŸŸå†…URL   â†’ 2.0 Ã— 1 = 2.0
åŸŸå¤–URL   â†’ 2.0 Ã— 0 = 0

å«ä¹‰: ä¼˜å…ˆçˆ¬æœ¬ç«™URLï¼ŒåŸŸå¤–åªè®°å½•
```

**3. å‚æ•°å› å­ï¼ˆW3 = 1.5ï¼‰**
```
3ä¸ªå‚æ•°   â†’ 1.5 Ã— 2.0 = 3.0  (ç¿»å€)
2ä¸ªå‚æ•°   â†’ 1.5 Ã— 1.5 = 2.25
1ä¸ªå‚æ•°   â†’ 1.5 Ã— 1.0 = 1.5
0ä¸ªå‚æ•°   â†’ 1.5 Ã— 0 = 0

å«ä¹‰: å‚æ•°è¶Šå¤šè¶Šä¼˜å…ˆï¼ˆåŒ…å«æ›´å¤šæµ‹è¯•ç‚¹ï¼‰
```

**4. æ–°é²œåº¦å› å­ï¼ˆW4 = 1.0ï¼‰**
```
æœ€è¿‘å‘çŽ°  â†’ 1.0 Ã— 0.5 = 0.5
è¾ƒæ—©å‘çŽ°  â†’ 1.0 Ã— 0.2 = 0.2

å«ä¹‰: ç¨å¾®åŠ æƒæ–°å‘çŽ°çš„URL
```

**5. è·¯å¾„ä»·å€¼å› å­ï¼ˆW5 = 4.0ï¼‰**
```
æžé«˜ä»·å€¼  â†’ 4.0 Ã— 3.0 = 12.0  (admin, .env, backup)
é«˜ä»·å€¼    â†’ 4.0 Ã— 2.0 = 8.0   (api, upload, manage)
ä¸­ä»·å€¼    â†’ 4.0 Ã— 1.0 = 4.0   (search, cart, product)
ä½Žä»·å€¼    â†’ 4.0 Ã— 0.3 = 1.2   (about, help, faq)

å«ä¹‰: è·¯å¾„ä»·å€¼æ˜¯æœ€é‡è¦çš„å› ç´ 
```

### å®žé™…è®¡ç®—ç¤ºä¾‹

**ç¤ºä¾‹1**ï¼š`https://target.com/admin/login?redirect=/dashboard`ï¼ˆæ·±åº¦2ï¼‰
```
æ·±åº¦å› å­:   3.0 Ã— (1/2) = 1.5
åŸŸå†…å› å­:   2.0 Ã— 1 = 2.0
å‚æ•°å› å­:   1.5 Ã— 1 = 1.5
æ–°é²œåº¦:     1.0 Ã— 0.5 = 0.5
è·¯å¾„ä»·å€¼:   4.0 Ã— 3.0 = 12.0  (admin=3.0)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»åˆ†: 17.5 â­â­â­â­â­ â†’ ç¬¬1ä¸ªçˆ¬ï¼
```

**ç¤ºä¾‹2**ï¼š`https://target.com/product?cat=1&page=2`ï¼ˆæ·±åº¦2ï¼‰
```
æ·±åº¦å› å­:   3.0 Ã— (1/2) = 1.5
åŸŸå†…å› å­:   2.0 Ã— 1 = 2.0
å‚æ•°å› å­:   1.5 Ã— 1.5 = 2.25  (2ä¸ªå‚æ•°)
æ–°é²œåº¦:     1.0 Ã— 0.5 = 0.5
è·¯å¾„ä»·å€¼:   4.0 Ã— 1.0 = 4.0   (product=1.0)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»åˆ†: 10.25 â­â­â­ â†’ ä¸­ç­‰ä¼˜å…ˆçº§
```

**ç¤ºä¾‹3**ï¼š`https://target.com/about`ï¼ˆæ·±åº¦2ï¼‰
```
æ·±åº¦å› å­:   3.0 Ã— (1/2) = 1.5
åŸŸå†…å› å­:   2.0 Ã— 1 = 2.0
å‚æ•°å› å­:   1.5 Ã— 0 = 0
æ–°é²œåº¦:     1.0 Ã— 0.5 = 0.5
è·¯å¾„ä»·å€¼:   4.0 Ã— 0.3 = 1.2   (about=0.3)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»åˆ†: 5.2 â­â­ â†’ æœ€åŽçˆ¬
```

---

## ðŸŽŠ æ€»ç»“

### æ··åˆå†³ç­–çš„å®Œç¾Žæ€§

**æ‚¨çš„è§‚ç‚¹100%æ­£ç¡®ï¼** âœ…

æ··åˆå†³ç­–å®Œç¾Žç»“åˆäº†ä¸¤ç§ç®—æ³•çš„ä¼˜åŠ¿ï¼š

| æ–¹é¢ | æ¥è‡ªBFS | æ¥è‡ªä¼˜å…ˆçº§ | ç»“æžœ |
|------|---------|-----------|------|
| æ·±åº¦æŽ§åˆ¶ | âœ… | - | âœ… ç²¾ç¡® |
| å±‚çº§ç»“æž„ | âœ… | - | âœ… æ¸…æ™° |
| è¿›åº¦å¯è§ | âœ… | - | âœ… å¯é¢„æµ‹ |
| æ™ºèƒ½æŽ’åº | - | âœ… | âœ… é«˜ä»·å€¼ä¼˜å…ˆ |
| ç²¾ç¡®è®¡ç®— | - | âœ… | âœ… 5ç»´åº¦è¯„åˆ† |
| å¿«é€Ÿå‘çŽ° | - | âœ… | âœ… 2åˆ†é’Ÿå‘çŽ°æ ¸å¿ƒ |
| **ç»¼åˆ** | **ç¨³å®š** | **æ™ºèƒ½** | **â­â­â­â­â­** |

### å®žçŽ°çŠ¶æ€

âœ… å·²ç¼–è¯‘ï¼š`spider_v2.8_hybrid.exe`  
âœ… å·²é›†æˆï¼šè‡ªåŠ¨å¯ç”¨ï¼ˆé»˜è®¤ï¼‰  
âœ… å·²ä¼˜åŒ–ï¼šç²¾ç¡®ä¼˜å…ˆçº§è®¡ç®—  
âœ… å·²å¢žå¼ºï¼šæ··åˆå†³ç­–æ ¸å¿ƒé€»è¾‘

### ä½¿ç”¨æ–¹å¼

**å®Œå…¨é€æ˜Žï¼Œè‡ªåŠ¨å¯ç”¨**ï¼š
```bash
# æ— éœ€ä»»ä½•é…ç½®ï¼Œç›´æŽ¥è¿è¡Œ
./spider_v2.8_hybrid.exe -url https://target.com -depth 3

# ä¼šè‡ªåŠ¨ï¼š
#   1. ä½¿ç”¨BFSæ¡†æž¶ï¼ˆå±‚çº§æŽ§åˆ¶ï¼‰
#   2. æ¯å±‚ä¼˜å…ˆçº§æŽ’åºï¼ˆæ™ºèƒ½è°ƒåº¦ï¼‰
#   3. å¿«é€Ÿå‘çŽ°é«˜ä»·å€¼URL
#   4. æ˜¾ç¤ºä¼˜å…ˆçº§TOP3
```

### é¢„æœŸæ•ˆæžœ

```
ç›¸åŒæ—¶é—´å†…ï¼š
  çº¯BFS:     å‘çŽ°0ä¸ªç®¡ç†åŽå°
  æ··åˆå†³ç­–:  å‘çŽ°5ä¸ªç®¡ç†åŽå° + 15ä¸ªAPI

ç›¸åŒURLæ•°é‡ï¼š
  çº¯BFS:     å¯èƒ½å…¨æ˜¯ä½Žä»·å€¼URL
  æ··åˆå†³ç­–:  50%æ˜¯é«˜ä»·å€¼URL

ç»¼åˆä»·å€¼ï¼š
  æå‡: 10å€ä»¥ä¸Šï¼
```

---

**æ‚¨çš„åˆ†æžéžå¸¸åˆ°ä½ï¼æ··åˆå†³ç­–å·²å®žçŽ°ï¼Œæ•ˆæžœæ˜¾è‘—ï¼** ðŸŽ‰

---

**æ–‡ä»¶**ï¼š`spider_v2.8_hybrid.exe`  
**ç®—æ³•**ï¼šBFSæ¡†æž¶ + ç²¾ç¡®ä¼˜å…ˆçº§æŽ’åºï¼ˆæ··åˆå†³ç­–ï¼‰  
**çŠ¶æ€**ï¼šâœ… å·²å®žçŽ°ï¼Œç«‹å³å¯ç”¨  
**æŽ¨è**ï¼šâ­â­â­â­â­

